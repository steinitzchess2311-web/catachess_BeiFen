# Stage 01 Summary - 需求冻结与规范定义

## 完成内容

### 1. 输入输出定义
- **输入**：用户输入棋手名 + PGN 文件（支持多文件）
- **输出**：tag 统计（白/黑/总）、导出文件（CSV/JSON）、处理状态

### 2. 统计口径
- 分母 = 该棋手走子总步数
- 白/黑统计分别使用各自分母
- 总统计为两者合计

### 3. 失败处理策略
- 单盘失败不影响整体处理
- 失败盘记录 headers + 原因，前端展示列表

### 4. 模糊匹配优先级
1. aliases（别名）
2. display_name（显示名）
3. PGN headers 模糊匹配
- 匹配不唯一时必须人工确认

### 5. 去重规则
- game_hash = 规范化 headers + 主线走子（详见 Stage 07）
- 去重维度：player_id + game_hash

## Checklist 完成状态
- [x] 统计口径已写入文档（分母为该棋手走子总步数）
- [x] 失败处理策略已明确（单盘失败不影响整体）
- [x] 模糊匹配优先级已确定
- [x] 去重规则已确定（player_id + game_hash）

## 下一步
进入 Stage 02：架构设计与接口规范
