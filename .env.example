# CataChess Environment Configuration
# SECURITY: This is a template file. Copy to .env and set actual values.
# NEVER commit .env file with real credentials to version control!

# ===== Basic =====
ENV=dev
# SECURITY: Set DEBUG=false in production!
DEBUG=true

# ===== CORS =====
# Comma-separated list of allowed origins
# For development: "http://localhost:3000,http://localhost:5173"
# For production: Set your actual domain(s)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:5174

# ===== Engine =====
# Single endpoint mode (Cloudflare handles load balancing)
ENGINE_URL=https://sf.cloudflare.com
ENGINE_TIMEOUT=60

# ===== Multi-Spot Engine (Optional) =====
# Enable multi-spot mode for local failover (not needed if using Cloudflare LB)
ENABLE_MULTI_SPOT=false

# Option 1: Define spots via environment variable (JSON array)
# ENGINE_SPOTS='[{"id":"cloudflare-lb","url":"https://sf.cloudflare.com","priority":100}]'

# Option 2: Use backend/spots.json file
# Just set ENABLE_MULTI_SPOT=true and create backend/spots.json

# Multi-spot timeout and retry settings
SPOT_REQUEST_TIMEOUT=30
SPOT_MAX_RETRIES=2

# ===== Database =====
# SECURITY: Required! Set your actual database connection string
# For Railway: This is automatically provided by Railway PostgreSQL plugin
# For local dev: postgresql://user:password@localhost:5432/dbname
DATABASE_URL=

# ===== Security =====
# SECURITY: CRITICAL! Generate a strong random secret key for production
# Use: openssl rand -hex 32
# Or: python -c "import secrets; print(secrets.token_hex(32))"
JWT_SECRET_KEY=
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60

# ===== Email (Resend) =====
# For sending verification emails
RESEND_API_KEY=
RESEND_FROM_EMAIL=noreply@catachess.com
VERIFICATION_CODE_EXPIRE_MINUTES=15
VERIFICATION_CODE_LENGTH=6

# ===== Storage =====
# DATA_ROOT=data

# ===== Example: Cloudflare LB (Recommended) =====
#
# With Cloudflare handling load balancing, use single-spot mode:
# ENGINE_URL=https://sf.cloudflare.com
# ENABLE_MULTI_SPOT=false
#
# ===== Example: Multi-Spot Mode (Optional) =====
#
# For local failover control, enable multi-spot mode:
# 1. Set ENABLE_MULTI_SPOT=true
# 2. Configure backend/spots.json:
#
# {
#   "spots": [
#     {
#       "id": "cloudflare-lb",
#       "url": "https://sf.cloudflare.com",
#       "region": "cloudflare",
#       "priority": 100,
#       "enabled": true
#     }
#   ]
# }
